(()=>{var __webpack_modules__={106:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('\n;// ./src/components/jsComponents/stringExtractor.js\n// this function searches for a specific character in the string and returns the string preceding that character.\nfunction stringExtractor(str, _char) {\n  var index = str.indexOf(_char);\n  return index !== -1 ? str.slice(0, index).trim() : str.trim();\n}\n;// ./src/components/jsComponents/goBack.js\n// Fill the Result container with an empty value so that the last population reappears\nfunction goBack(containerResult, containerCoverBook) {\n  containerResult.innerHTML = "";\n  containerCoverBook.innerHTML = "";\n  return containerResult, containerCoverBook;\n}\n;// ./src/components/jsComponents/spaceRemover.js\n//this function removes spaces within a string and returns the string with the underscore instead of the spaces\nfunction spaceRemover(str) {\n  return str.replace(/\\s+/g, "_");\n}\n;// ./src/js/generateUrl.js\n/** In this function the URL is generated with the data entered by the visitor*/\n\nfunction generateUrl(categoryForm, valueInput) {\n  /**the valueInput constant takes the value typed by the user in the textbox and first removes the outer spaces of the string with .trim() and then converts the string to lowercase. */\n  valueInput = categoryForm.value.trim().toLowerCase();\n  console.log(valueInput);\n  if (valueInput === "") {\n    alert("Enter a category first");\n    throw new Error("Enter a category first");\n  }\n  if (valueInput.includes(" ")) {\n    console.log("Include space"); // Per il debug\n    valueInput = spaceRemover(valueInput);\n    console.log(valueInput); // Per il debug\n  }\n\n  // Genera e restituisci l\'URL\n  return new URL("".concat(valueInput, ".json"), "https://openlibrary.org/subjects/");\n}\n;// ./src/js/handleDescription.js\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\n/** In this function we manage the description in the various cases that may occur to us*/\n\nvar buttonGoBack = document.querySelector(".goBack");\nfunction handleDescription(respDetails, valueLi, containerResult) {\n  // Reset container\n  containerResult.innerHTML = "";\n  buttonGoBack.style.display = "block";\n  if (!respDetails.description) {\n    // Case: Description absent\n    containerResult.innerHTML += "\\n      <p>\\n        <h3>Description ".concat(valueLi, "</h3>\\n        Descrizione non presente, per maggiori info visitare il sito:\\n        <a href=\\"https://openlibrary.org\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">openLibrary.org</a>\\n      </p>");\n  } else if (_typeof(respDetails.description) === "object" && respDetails.description.value) {\n    // Case: Description as object\n    containerResult.innerHTML += "\\n      <p>\\n        <h3>".concat(valueLi, "</h3>\\n        ").concat(respDetails.description.value, "\\n      </p>");\n  } else {\n    // Case: Description as string, partial extraction\n    var extractedDetails = stringExtractor(respDetails.description, "Also contained in");\n    containerResult.innerHTML += "\\n      <p>\\n        <h3>".concat(valueLi, "</h3>\\n        ").concat(extractedDetails, "\\n      </p>");\n  }\n}\n// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 1 modules\nvar axios = __webpack_require__(11);\n;// ./src/js/fetchBookDetails.js\n/** This function makes an API request to get data for the book description. Furthermore, by managing the numCover variable we extract the cover_id which we insert into the image URL to obtain the cover*/\n\n\nfunction fetchBookDetails(newUrlDetails, valueLi, numCover, containerResult, containerCoverBook) {\n  return axios/* default */.A.get(newUrlDetails).then(function (response) {\n    // Check if the response status is what you expect\n    if (response.status !== 200) {\n      alert("Oops something went wrong");\n      throw new Error("Request failed in fetchBookDetails with status ".concat(response.status));\n    }\n    var respDetails = response.data;\n    console.log(respDetails.description); // Debug\n\n    containerResult.innerHTML = "";\n    containerCoverBook.innerHTML = "";\n    setTimeout(function () {\n      handleDescription(respDetails, valueLi, containerResult);\n    }, 2000);\n    containerCoverBook.innerHTML += "<img src=\\"https://covers.openlibrary.org/b/id/".concat(numCover, "-M.jpg?default=true\\" alt=\\"").concat(valueLi, "\\">");\n  });\n}\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(543);\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n;// ./src/js/fetchAuthors.js\n/**This function makes an API request and manages data to display a list of book titles and authors of the category selected by the user */\n ///to use the _.get method\n\nfunction fetchAuthors(newUrl, containerResult, containerCoverBook, collectedData) {\n  return axios/* default */.A.get(newUrl).then(function (response) {\n    // Check if the response status is what you expect\n    if (response.status !== 200) {\n      alert("Oops something went wrong");\n      throw new Error("Request failed in fetchAuthors with status ".concat(response.status));\n    }\n    var resp = response.data; // Access response data\n    console.log(resp); // Debug\n\n    var authors = lodash_default().get(resp, "works", []); // Extract the array of objects containing authors and book titles\n\n    if (authors.length === 0) {\n      alert("The category entered is invalid");\n      throw new Error("The category entered is invalid");\n    }\n    console.log(authors); // Debug\n    containerCoverBook.innerHTML = "";\n    containerResult.innerHTML = "";\n\n    // Iterate over the authors array to populate `collectedData` and update the DOM\n    authors.forEach(function (element) {\n      var objAuthors = lodash_default().get(element, "authors[0].name", "Unknown");\n      var objTitle = lodash_default().get(element, "title", "Unknown");\n      var objKey = lodash_default().get(element, "key", "Unknown");\n      var objIdCover = lodash_default().get(element, "cover_id", "Unknown");\n\n      // Create an array of objects with corresponding title, author, and key\n      collectedData.push({\n        title: objTitle,\n        authors: objAuthors,\n        key: objKey,\n        coverId: objIdCover\n      });\n\n      // Populate the containerResult with titles and authors\n      containerResult.innerHTML += "<li id=\\"".concat(objKey, "\\">").concat(objTitle, " - ").concat(objAuthors, "</li>");\n    });\n    return {\n      collectedData: collectedData,\n      containerResult: containerResult,\n      containerCoverBook: containerCoverBook\n    };\n  })["catch"](function (error) {\n    console.error("Error fetching authors:", error.message);\n    throw new Error(error.message);\n  });\n}\n;// ./src/js/detailsUrlDescription.js\n/**This function takes the foundBook object and reprocesses it to return the book key to identify the description and the cover id number to display the cover image */\nfunction detailsUrlDescription(foundBook) {\n  if (foundBook) {\n    console.log("Book found:", foundBook.key);\n    console.log("Number cover id found:", foundBook.coverId);\n    var keyBook = foundBook.key;\n    var numCover = foundBook.coverId;\n    return {\n      keyBook: keyBook,\n      numCover: numCover\n    }; // return an object with the book key and the cover id\n  } else {\n    throw new Error("Book not found");\n  }\n}\n// EXTERNAL MODULE: ./src/components/logo/logo-book-finder-dark.png\nvar logo_book_finder_dark = __webpack_require__(150);\nvar logo_book_finder_dark_default = /*#__PURE__*/__webpack_require__.n(logo_book_finder_dark);\n;// ./src/components/logo/logo.js\n/** This function creates a new image object to insert the image B of the Book Finder title and insert it inside the index.js file and then attach it inside the header*/\n\n\n\nfunction logoFn() {\n  var logoDomImage = new Image();\n  logoDomImage.src = (logo_book_finder_dark_default());\n  logoDomImage.className = "my-logo";\n  console.log(logoDomImage);\n  return logoDomImage;\n}\n/* harmony default export */ const logo = (logoFn);\n// EXTERNAL MODULE: ./src/components/logo/icon-footer-lr-web-site.png\nvar icon_footer_lr_web_site = __webpack_require__(314);\nvar icon_footer_lr_web_site_default = /*#__PURE__*/__webpack_require__.n(icon_footer_lr_web_site);\n;// ./src/components/logo/iconMySite.js\n\n\nfunction iconFn() {\n  var iconDomImage = new Image();\n  iconDomImage.src = (icon_footer_lr_web_site_default());\n  iconDomImage.className = "my-icon";\n  console.log(iconDomImage);\n  return iconDomImage;\n}\n/* harmony default export */ const iconMySite = (iconFn);\n;// ./src/js/index.js\n\n\n\n\n\n\n\n\nvar containerEvent = document.querySelector(".wrapperColumn");\nvar containerResult = document.querySelector(".containerTitleAuthors");\nvar containerCoverBook = document.querySelector(".containerCoverBook");\nvar categoryForm = document.querySelector("#category");\nvar js_buttonGoBack = document.querySelector(".goBack");\n\nvar containerLogo = document.querySelector(".containerLogo");\nif (!containerLogo.querySelector(".my-logo")) {\n  containerLogo.appendChild(logo());\n}\n\nvar containerIcon = document.querySelector(".row-social-footer");\nvar linkMySite = document.createElement("a");\nlinkMySite.href = "https://radattiluca.github.io./";\nlinkMySite.target = "_blank";\nlinkMySite.appendChild(iconMySite());\nif (!containerIcon.querySelector(".my-icon")) {\n  containerIcon.appendChild(linkMySite);\n}\nvar collectedData = [];\n\n// Prevenire la duplicazione del listener\nif (!window.isEventListenerAttached) {\n  window.isEventListenerAttached = true;\n  containerEvent.addEventListener("click", function (event) {\n    if (event.target.tagName === "BUTTON") {\n      //user click on the search button\n      console.log(event.target.tagName); //for debugging\n      event.preventDefault(); //to block the default submit event\n\n      var valueInput = "";\n      //we generate the url with the generateUrl function\n      var newUrl = generateUrl(categoryForm);\n\n      /**we send the fetch .get request with axios at https://openlibrary.org via the fetchAuthors function */\n      fetchAuthors(newUrl, containerResult, containerCoverBook, collectedData).then(function (response) {});\n    }\n    if (event.target.tagName === "LI") {\n      //the user clicks on a LI containing the title of the book and the author\n\n      /**the variable valueLi takes the value containing in the clicked LI element */\n      var valueLi = event.target.textContent;\n\n      /**We extract the entire string before the "-" character to have only the title of the book without the author, using the stringExtractor function */\n      var extractedTitle = stringExtractor(valueLi, " - ");\n      console.log(extractedTitle); //for debugging\n\n      /**We compare the string extracted in the extract Title constant with the Data collection array to find a reference with the title selected by the user. */\n      var foundBook = collectedData.find(function (element) {\n        return element.title.toLowerCase().includes(extractedTitle.toLowerCase());\n      });\n      console.log(foundBook); //for debugging\n\n      /**from the correspondence found, the identification key of the book and the number identified for the book cover are returned */\n      var _detailsUrlDescriptio = detailsUrlDescription(foundBook),\n        keyBook = _detailsUrlDescriptio.keyBook,\n        numCover = _detailsUrlDescriptio.numCover;\n\n      /**the book key is used to create the url and send a new fetch request for the details of the book selected by the user */\n      var newUrlDetails = new URL("".concat(keyBook, ".json?details=true"), "https://openlibrary.org/");\n      // Make a request to the API for the book\'s description\n      fetchBookDetails(newUrlDetails, valueLi, numCover, containerResult, containerCoverBook)\n      /**If the request is successful, the response is handled in fetchBookDetails and the description with the respective book cover is displayed */.then(function (response) {})["catch"](function (error) {\n        console.error("Error fetching book details:", error.message);\n        throw new Error(error.message);\n      });\n    }\n    /**with the goback function combined with the creation of a dynamic button that appears only after viewing the book description, we can go back to the titles. */\n    if (event.target.className === "goBack") {\n      js_buttonGoBack.style.display = "none";\n      goBack(containerResult, containerCoverBook);\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEIsRUFBRUEsS0FBSyxDQUFDQyxPQUFPLENBQUM7UUFDNUQsTUFBTSxJQUFJM0MsS0FBSyxDQUFDMEMsS0FBSyxDQUFDQyxPQUFPLENBQUM7TUFDaEMsQ0FBQyxDQUFDO0lBQ047SUFDQTtJQUNBLElBQUl3QixLQUFLLENBQUNKLE1BQU0sQ0FBQ1gsU0FBUyxLQUFLLFFBQVEsRUFBRTtNQUN2Q2hELGVBQVksQ0FBQ00sS0FBSyxDQUFDQyxPQUFPLEdBQUcsTUFBTTtNQUNuQ3pCLE1BQU0sQ0FBQ0MsZUFBZSxFQUFFQyxrQkFBa0IsQ0FBQztJQUM3QztFQUNGLENBQUMsQ0FBQztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1ib29rLWZpbmRlci8uL3NyYy9jb21wb25lbnRzL2pzQ29tcG9uZW50cy9zdHJpbmdFeHRyYWN0b3IuanM/YmVlNiIsIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2NvbXBvbmVudHMvanNDb21wb25lbnRzL2dvQmFjay5qcz8wYjVhIiwid2VicGFjazovL3Byb2plY3QtYm9vay1maW5kZXIvLi9zcmMvY29tcG9uZW50cy9qc0NvbXBvbmVudHMvc3BhY2VSZW1vdmVyLmpzP2Q2ZWQiLCJ3ZWJwYWNrOi8vcHJvamVjdC1ib29rLWZpbmRlci8uL3NyYy9qcy9nZW5lcmF0ZVVybC5qcz9iMzQyIiwid2VicGFjazovL3Byb2plY3QtYm9vay1maW5kZXIvLi9zcmMvanMvaGFuZGxlRGVzY3JpcHRpb24uanM/ZTE1YSIsIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2pzL2ZldGNoQm9va0RldGFpbHMuanM/YmVhNCIsIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2pzL2ZldGNoQXV0aG9ycy5qcz85MTFmIiwid2VicGFjazovL3Byb2plY3QtYm9vay1maW5kZXIvLi9zcmMvanMvZGV0YWlsc1VybERlc2NyaXB0aW9uLmpzPzU2ZDgiLCJ3ZWJwYWNrOi8vcHJvamVjdC1ib29rLWZpbmRlci8uL3NyYy9jb21wb25lbnRzL2xvZ28vbG9nby5qcz81NjlkIiwid2VicGFjazovL3Byb2plY3QtYm9vay1maW5kZXIvLi9zcmMvY29tcG9uZW50cy9sb2dvL2ljb25NeVNpdGUuanM/MjVjYSIsIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2pzL2luZGV4LmpzPzdiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGhpcyBmdW5jdGlvbiBzZWFyY2hlcyBmb3IgYSBzcGVjaWZpYyBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgc3RyaW5nIHByZWNlZGluZyB0aGF0IGNoYXJhY3Rlci5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0cmluZ0V4dHJhY3RvcihzdHIsIGNoYXIpIHtcbiAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihjaGFyKTtcbiAgcmV0dXJuIGluZGV4ICE9PSAtMSA/IHN0ci5zbGljZSgwLCBpbmRleCkudHJpbSgpIDogc3RyLnRyaW0oKTtcbn1cbiIsIi8vIEZpbGwgdGhlIFJlc3VsdCBjb250YWluZXIgd2l0aCBhbiBlbXB0eSB2YWx1ZSBzbyB0aGF0IHRoZSBsYXN0IHBvcHVsYXRpb24gcmVhcHBlYXJzXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnb0JhY2soY29udGFpbmVyUmVzdWx0LCBjb250YWluZXJDb3ZlckJvb2spIHtcbiAgY29udGFpbmVyUmVzdWx0LmlubmVySFRNTCA9IFwiXCI7XG4gIGNvbnRhaW5lckNvdmVyQm9vay5pbm5lckhUTUwgPSBcIlwiO1xuICByZXR1cm4gY29udGFpbmVyUmVzdWx0LCBjb250YWluZXJDb3ZlckJvb2s7XG59XG4iLCIvL3RoaXMgZnVuY3Rpb24gcmVtb3ZlcyBzcGFjZXMgd2l0aGluIGEgc3RyaW5nIGFuZCByZXR1cm5zIHRoZSBzdHJpbmcgd2l0aCB0aGUgdW5kZXJzY29yZSBpbnN0ZWFkIG9mIHRoZSBzcGFjZXNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwYWNlUmVtb3ZlcihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMrL2csIFwiX1wiKTtcbn1cbiIsIi8qKiBJbiB0aGlzIGZ1bmN0aW9uIHRoZSBVUkwgaXMgZ2VuZXJhdGVkIHdpdGggdGhlIGRhdGEgZW50ZXJlZCBieSB0aGUgdmlzaXRvciovXG5pbXBvcnQgc3BhY2VSZW1vdmVyIGZyb20gXCIuLi9jb21wb25lbnRzL2pzQ29tcG9uZW50cy9zcGFjZVJlbW92ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVVcmwoY2F0ZWdvcnlGb3JtLCB2YWx1ZUlucHV0KSB7XG4gIC8qKnRoZSB2YWx1ZUlucHV0IGNvbnN0YW50IHRha2VzIHRoZSB2YWx1ZSB0eXBlZCBieSB0aGUgdXNlciBpbiB0aGUgdGV4dGJveCBhbmQgZmlyc3QgcmVtb3ZlcyB0aGUgb3V0ZXIgc3BhY2VzIG9mIHRoZSBzdHJpbmcgd2l0aCAudHJpbSgpIGFuZCB0aGVuIGNvbnZlcnRzIHRoZSBzdHJpbmcgdG8gbG93ZXJjYXNlLiAqL1xuICB2YWx1ZUlucHV0ID0gY2F0ZWdvcnlGb3JtLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zb2xlLmxvZyh2YWx1ZUlucHV0KTtcbiAgaWYgKHZhbHVlSW5wdXQgPT09IFwiXCIpIHtcbiAgICBhbGVydChcIkVudGVyIGEgY2F0ZWdvcnkgZmlyc3RcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRW50ZXIgYSBjYXRlZ29yeSBmaXJzdFwiKTtcbiAgfVxuXG4gIGlmICh2YWx1ZUlucHV0LmluY2x1ZGVzKFwiIFwiKSkge1xuICAgIGNvbnNvbGUubG9nKFwiSW5jbHVkZSBzcGFjZVwiKTsgLy8gUGVyIGlsIGRlYnVnXG4gICAgdmFsdWVJbnB1dCA9IHNwYWNlUmVtb3Zlcih2YWx1ZUlucHV0KTtcbiAgICBjb25zb2xlLmxvZyh2YWx1ZUlucHV0KTsgLy8gUGVyIGlsIGRlYnVnXG4gIH1cblxuICAvLyBHZW5lcmEgZSByZXN0aXR1aXNjaSBsJ1VSTFxuICByZXR1cm4gbmV3IFVSTChgJHt2YWx1ZUlucHV0fS5qc29uYCwgXCJodHRwczovL29wZW5saWJyYXJ5Lm9yZy9zdWJqZWN0cy9cIik7XG59XG4iLCIvKiogSW4gdGhpcyBmdW5jdGlvbiB3ZSBtYW5hZ2UgdGhlIGRlc2NyaXB0aW9uIGluIHRoZSB2YXJpb3VzIGNhc2VzIHRoYXQgbWF5IG9jY3VyIHRvIHVzKi9cbmltcG9ydCBzdHJpbmdFeHRyYWN0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvanNDb21wb25lbnRzL3N0cmluZ0V4dHJhY3RvclwiO1xuY29uc3QgYnV0dG9uR29CYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nb0JhY2tcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0aW9uKFxuICByZXNwRGV0YWlscyxcbiAgdmFsdWVMaSxcbiAgY29udGFpbmVyUmVzdWx0XG4pIHtcbiAgLy8gUmVzZXQgY29udGFpbmVyXG4gIGNvbnRhaW5lclJlc3VsdC5pbm5lckhUTUwgPSBcIlwiO1xuICBidXR0b25Hb0JhY2suc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgaWYgKCFyZXNwRGV0YWlscy5kZXNjcmlwdGlvbikge1xuICAgIC8vIENhc2U6IERlc2NyaXB0aW9uIGFic2VudFxuICAgIGNvbnRhaW5lclJlc3VsdC5pbm5lckhUTUwgKz0gYFxuICAgICAgPHA+XG4gICAgICAgIDxoMz5EZXNjcmlwdGlvbiAke3ZhbHVlTGl9PC9oMz5cbiAgICAgICAgRGVzY3JpemlvbmUgbm9uIHByZXNlbnRlLCBwZXIgbWFnZ2lvcmkgaW5mbyB2aXNpdGFyZSBpbCBzaXRvOlxuICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9vcGVubGlicmFyeS5vcmdcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+b3BlbkxpYnJhcnkub3JnPC9hPlxuICAgICAgPC9wPmA7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIHJlc3BEZXRhaWxzLmRlc2NyaXB0aW9uID09PSBcIm9iamVjdFwiICYmXG4gICAgcmVzcERldGFpbHMuZGVzY3JpcHRpb24udmFsdWVcbiAgKSB7XG4gICAgLy8gQ2FzZTogRGVzY3JpcHRpb24gYXMgb2JqZWN0XG4gICAgY29udGFpbmVyUmVzdWx0LmlubmVySFRNTCArPSBgXG4gICAgICA8cD5cbiAgICAgICAgPGgzPiR7dmFsdWVMaX08L2gzPlxuICAgICAgICAke3Jlc3BEZXRhaWxzLmRlc2NyaXB0aW9uLnZhbHVlfVxuICAgICAgPC9wPmA7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FzZTogRGVzY3JpcHRpb24gYXMgc3RyaW5nLCBwYXJ0aWFsIGV4dHJhY3Rpb25cbiAgICBjb25zdCBleHRyYWN0ZWREZXRhaWxzID0gc3RyaW5nRXh0cmFjdG9yKFxuICAgICAgcmVzcERldGFpbHMuZGVzY3JpcHRpb24sXG4gICAgICBcIkFsc28gY29udGFpbmVkIGluXCJcbiAgICApO1xuICAgIGNvbnRhaW5lclJlc3VsdC5pbm5lckhUTUwgKz0gYFxuICAgICAgPHA+XG4gICAgICAgIDxoMz4ke3ZhbHVlTGl9PC9oMz5cbiAgICAgICAgJHtleHRyYWN0ZWREZXRhaWxzfVxuICAgICAgPC9wPmA7XG4gIH1cbn1cbiIsIi8qKiBUaGlzIGZ1bmN0aW9uIG1ha2VzIGFuIEFQSSByZXF1ZXN0IHRvIGdldCBkYXRhIGZvciB0aGUgYm9vayBkZXNjcmlwdGlvbi4gRnVydGhlcm1vcmUsIGJ5IG1hbmFnaW5nIHRoZSBudW1Db3ZlciB2YXJpYWJsZSB3ZSBleHRyYWN0IHRoZSBjb3Zlcl9pZCB3aGljaCB3ZSBpbnNlcnQgaW50byB0aGUgaW1hZ2UgVVJMIHRvIG9idGFpbiB0aGUgY292ZXIqL1xuaW1wb3J0IGhhbmRsZURlc2NyaXB0aW9uIGZyb20gXCIuL2hhbmRsZURlc2NyaXB0aW9uXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmZXRjaEJvb2tEZXRhaWxzKFxuICBuZXdVcmxEZXRhaWxzLFxuICB2YWx1ZUxpLFxuICBudW1Db3ZlcixcbiAgY29udGFpbmVyUmVzdWx0LFxuICBjb250YWluZXJDb3ZlckJvb2tcbikge1xuICByZXR1cm4gYXhpb3MuZ2V0KG5ld1VybERldGFpbHMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHJlc3BvbnNlIHN0YXR1cyBpcyB3aGF0IHlvdSBleHBlY3RcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIGFsZXJ0KFwiT29wcyBzb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlcXVlc3QgZmFpbGVkIGluIGZldGNoQm9va0RldGFpbHMgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcERldGFpbHMgPSByZXNwb25zZS5kYXRhO1xuICAgIGNvbnNvbGUubG9nKHJlc3BEZXRhaWxzLmRlc2NyaXB0aW9uKTsgLy8gRGVidWdcblxuICAgIGNvbnRhaW5lclJlc3VsdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnRhaW5lckNvdmVyQm9vay5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBoYW5kbGVEZXNjcmlwdGlvbihyZXNwRGV0YWlscywgdmFsdWVMaSwgY29udGFpbmVyUmVzdWx0KTtcbiAgICB9LCAyMDAwKTtcblxuICAgIGNvbnRhaW5lckNvdmVyQm9vay5pbm5lckhUTUwgKz0gYDxpbWcgc3JjPVwiaHR0cHM6Ly9jb3ZlcnMub3BlbmxpYnJhcnkub3JnL2IvaWQvJHtudW1Db3Zlcn0tTS5qcGc/ZGVmYXVsdD10cnVlXCIgYWx0PVwiJHt2YWx1ZUxpfVwiPmA7XG4gIH0pO1xufVxuIiwiLyoqVGhpcyBmdW5jdGlvbiBtYWtlcyBhbiBBUEkgcmVxdWVzdCBhbmQgbWFuYWdlcyBkYXRhIHRvIGRpc3BsYXkgYSBsaXN0IG9mIGJvb2sgdGl0bGVzIGFuZCBhdXRob3JzIG9mIHRoZSBjYXRlZ29yeSBzZWxlY3RlZCBieSB0aGUgdXNlciAqL1xuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiOyAvLy90byB1c2UgdGhlIF8uZ2V0IG1ldGhvZFxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmV0Y2hBdXRob3JzKFxuICBuZXdVcmwsXG4gIGNvbnRhaW5lclJlc3VsdCxcbiAgY29udGFpbmVyQ292ZXJCb29rLFxuICBjb2xsZWN0ZWREYXRhXG4pIHtcbiAgcmV0dXJuIGF4aW9zXG4gICAgLmdldChuZXdVcmwpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgcmVzcG9uc2Ugc3RhdHVzIGlzIHdoYXQgeW91IGV4cGVjdFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIGFsZXJ0KFwiT29wcyBzb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSZXF1ZXN0IGZhaWxlZCBpbiBmZXRjaEF1dGhvcnMgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7IC8vIEFjY2VzcyByZXNwb25zZSBkYXRhXG4gICAgICBjb25zb2xlLmxvZyhyZXNwKTsgLy8gRGVidWdcblxuICAgICAgY29uc3QgYXV0aG9ycyA9IF8uZ2V0KHJlc3AsIFwid29ya3NcIiwgW10pOyAvLyBFeHRyYWN0IHRoZSBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgYXV0aG9ycyBhbmQgYm9vayB0aXRsZXNcblxuICAgICAgaWYgKGF1dGhvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFsZXJ0KFwiVGhlIGNhdGVnb3J5IGVudGVyZWQgaXMgaW52YWxpZFwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNhdGVnb3J5IGVudGVyZWQgaXMgaW52YWxpZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYXV0aG9ycyk7IC8vIERlYnVnXG4gICAgICBjb250YWluZXJDb3ZlckJvb2suaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIGNvbnRhaW5lclJlc3VsdC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGF1dGhvcnMgYXJyYXkgdG8gcG9wdWxhdGUgYGNvbGxlY3RlZERhdGFgIGFuZCB1cGRhdGUgdGhlIERPTVxuICAgICAgYXV0aG9ycy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG9iakF1dGhvcnMgPSBfLmdldChlbGVtZW50LCBcImF1dGhvcnNbMF0ubmFtZVwiLCBcIlVua25vd25cIik7XG4gICAgICAgIGNvbnN0IG9ialRpdGxlID0gXy5nZXQoZWxlbWVudCwgXCJ0aXRsZVwiLCBcIlVua25vd25cIik7XG4gICAgICAgIGNvbnN0IG9iaktleSA9IF8uZ2V0KGVsZW1lbnQsIFwia2V5XCIsIFwiVW5rbm93blwiKTtcbiAgICAgICAgY29uc3Qgb2JqSWRDb3ZlciA9IF8uZ2V0KGVsZW1lbnQsIFwiY292ZXJfaWRcIiwgXCJVbmtub3duXCIpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggY29ycmVzcG9uZGluZyB0aXRsZSwgYXV0aG9yLCBhbmQga2V5XG4gICAgICAgIGNvbGxlY3RlZERhdGEucHVzaCh7XG4gICAgICAgICAgdGl0bGU6IG9ialRpdGxlLFxuICAgICAgICAgIGF1dGhvcnM6IG9iakF1dGhvcnMsXG4gICAgICAgICAga2V5OiBvYmpLZXksXG4gICAgICAgICAgY292ZXJJZDogb2JqSWRDb3ZlcixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGNvbnRhaW5lclJlc3VsdCB3aXRoIHRpdGxlcyBhbmQgYXV0aG9yc1xuICAgICAgICBjb250YWluZXJSZXN1bHQuaW5uZXJIVE1MICs9IGA8bGkgaWQ9XCIke29iaktleX1cIj4ke29ialRpdGxlfSAtICR7b2JqQXV0aG9yc308L2xpPmA7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGNvbGxlY3RlZERhdGEsIGNvbnRhaW5lclJlc3VsdCwgY29udGFpbmVyQ292ZXJCb29rIH07XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYXV0aG9yczpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgfSk7XG59XG4iLCIvKipUaGlzIGZ1bmN0aW9uIHRha2VzIHRoZSBmb3VuZEJvb2sgb2JqZWN0IGFuZCByZXByb2Nlc3NlcyBpdCB0byByZXR1cm4gdGhlIGJvb2sga2V5IHRvIGlkZW50aWZ5IHRoZSBkZXNjcmlwdGlvbiBhbmQgdGhlIGNvdmVyIGlkIG51bWJlciB0byBkaXNwbGF5IHRoZSBjb3ZlciBpbWFnZSAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGV0YWlsc1VybERlc2NyaXB0aW9uKGZvdW5kQm9vaykge1xuICBpZiAoZm91bmRCb29rKSB7XG4gICAgY29uc29sZS5sb2coXCJCb29rIGZvdW5kOlwiLCBmb3VuZEJvb2sua2V5KTtcbiAgICBjb25zb2xlLmxvZyhcIk51bWJlciBjb3ZlciBpZCBmb3VuZDpcIiwgZm91bmRCb29rLmNvdmVySWQpO1xuICAgIGNvbnN0IGtleUJvb2sgPSBmb3VuZEJvb2sua2V5O1xuICAgIGNvbnN0IG51bUNvdmVyID0gZm91bmRCb29rLmNvdmVySWQ7XG4gICAgcmV0dXJuIHsga2V5Qm9vaywgbnVtQ292ZXIgfTsgLy8gcmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBib29rIGtleSBhbmQgdGhlIGNvdmVyIGlkXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQm9vayBub3QgZm91bmRcIik7XG4gIH1cbn1cbiIsIi8qKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBuZXcgaW1hZ2Ugb2JqZWN0IHRvIGluc2VydCB0aGUgaW1hZ2UgQiBvZiB0aGUgQm9vayBGaW5kZXIgdGl0bGUgYW5kIGluc2VydCBpdCBpbnNpZGUgdGhlIGluZGV4LmpzIGZpbGUgYW5kIHRoZW4gYXR0YWNoIGl0IGluc2lkZSB0aGUgaGVhZGVyKi9cblxuaW1wb3J0IGxvZ29JbWcgZnJvbSBcIi4vbG9nby1ib29rLWZpbmRlci1kYXJrLnBuZ1wiO1xuaW1wb3J0IFwiLi9zdHlsZUxvZ28uc2Nzc1wiO1xuXG5mdW5jdGlvbiBsb2dvRm4oKSB7XG4gIGNvbnN0IGxvZ29Eb21JbWFnZSA9IG5ldyBJbWFnZSgpO1xuICBsb2dvRG9tSW1hZ2Uuc3JjID0gbG9nb0ltZztcbiAgbG9nb0RvbUltYWdlLmNsYXNzTmFtZSA9IFwibXktbG9nb1wiO1xuICBjb25zb2xlLmxvZyhsb2dvRG9tSW1hZ2UpO1xuICByZXR1cm4gbG9nb0RvbUltYWdlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsb2dvRm47XG4iLCJpbXBvcnQgaWNvbkltZyBmcm9tIFwiLi9pY29uLWZvb3Rlci1sci13ZWItc2l0ZS5wbmdcIjtcbmltcG9ydCBcIi4vc3R5bGVJY29uTVMuc2Nzc1wiO1xuXG5mdW5jdGlvbiBpY29uRm4oKSB7XG4gIGNvbnN0IGljb25Eb21JbWFnZSA9IG5ldyBJbWFnZSgpO1xuICBpY29uRG9tSW1hZ2Uuc3JjID0gaWNvbkltZztcbiAgaWNvbkRvbUltYWdlLmNsYXNzTmFtZSA9IFwibXktaWNvblwiO1xuICBjb25zb2xlLmxvZyhpY29uRG9tSW1hZ2UpO1xuICByZXR1cm4gaWNvbkRvbUltYWdlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpY29uRm47XG4iLCJpbXBvcnQgXCIuLi9zdHlsZVNjc3MvaW5kZXhTdHlsZS5zY3NzXCI7XG5pbXBvcnQgc3RyaW5nRXh0cmFjdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL2pzQ29tcG9uZW50cy9zdHJpbmdFeHRyYWN0b3IuanNcIjtcbmltcG9ydCBnb0JhY2sgZnJvbSBcIi4uL2NvbXBvbmVudHMvanNDb21wb25lbnRzL2dvQmFjay5qc1wiO1xuXG5pbXBvcnQgZ2VuZXJhdGVVcmwgZnJvbSBcIi4vZ2VuZXJhdGVVcmxcIjtcbmltcG9ydCBmZXRjaEJvb2tEZXRhaWxzIGZyb20gXCIuL2ZldGNoQm9va0RldGFpbHNcIjtcbmltcG9ydCBmZXRjaEF1dGhvcnMgZnJvbSBcIi4vZmV0Y2hBdXRob3JzXCI7XG5pbXBvcnQgZGV0YWlsc1VybERlc2NyaXB0aW9uIGZyb20gXCIuL2RldGFpbHNVcmxEZXNjcmlwdGlvblwiO1xuXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmNvbnN0IGNvbnRhaW5lckV2ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53cmFwcGVyQ29sdW1uXCIpO1xuY29uc3QgY29udGFpbmVyUmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJUaXRsZUF1dGhvcnNcIik7XG5jb25zdCBjb250YWluZXJDb3ZlckJvb2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lckNvdmVyQm9va1wiKTtcbmNvbnN0IGNhdGVnb3J5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2F0ZWdvcnlcIik7XG5jb25zdCBidXR0b25Hb0JhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdvQmFja1wiKTtcblxuaW1wb3J0IGxvZ29GbiBmcm9tIFwiLi4vY29tcG9uZW50cy9sb2dvL2xvZ28uanNcIjtcbmNvbnN0IGNvbnRhaW5lckxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lckxvZ29cIik7XG5cbmlmICghY29udGFpbmVyTG9nby5xdWVyeVNlbGVjdG9yKFwiLm15LWxvZ29cIikpIHtcbiAgY29udGFpbmVyTG9nby5hcHBlbmRDaGlsZChsb2dvRm4oKSk7XG59XG5cbmltcG9ydCBpY29uRm4gZnJvbSBcIi4uL2NvbXBvbmVudHMvbG9nby9pY29uTXlTaXRlLmpzXCI7XG5jb25zdCBjb250YWluZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yb3ctc29jaWFsLWZvb3RlclwiKTtcbmNvbnN0IGxpbmtNeVNpdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbmxpbmtNeVNpdGUuaHJlZiA9IFwiaHR0cHM6Ly9yYWRhdHRpbHVjYS5naXRodWIuaW8uL1wiO1xubGlua015U2l0ZS50YXJnZXQgPSBcIl9ibGFua1wiO1xubGlua015U2l0ZS5hcHBlbmRDaGlsZChpY29uRm4oKSk7XG5cbmlmICghY29udGFpbmVySWNvbi5xdWVyeVNlbGVjdG9yKFwiLm15LWljb25cIikpIHtcbiAgY29udGFpbmVySWNvbi5hcHBlbmRDaGlsZChsaW5rTXlTaXRlKTtcbn1cblxuY29uc3QgY29sbGVjdGVkRGF0YSA9IFtdO1xuXG4vLyBQcmV2ZW5pcmUgbGEgZHVwbGljYXppb25lIGRlbCBsaXN0ZW5lclxuaWYgKCF3aW5kb3cuaXNFdmVudExpc3RlbmVyQXR0YWNoZWQpIHtcbiAgd2luZG93LmlzRXZlbnRMaXN0ZW5lckF0dGFjaGVkID0gdHJ1ZTtcblxuICBjb250YWluZXJFdmVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lID09PSBcIkJVVFRPTlwiKSB7XG4gICAgICAvL3VzZXIgY2xpY2sgb24gdGhlIHNlYXJjaCBidXR0b25cbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC50YWdOYW1lKTsgLy9mb3IgZGVidWdnaW5nXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvL3RvIGJsb2NrIHRoZSBkZWZhdWx0IHN1Ym1pdCBldmVudFxuXG4gICAgICBsZXQgdmFsdWVJbnB1dCA9IFwiXCI7XG4gICAgICAvL3dlIGdlbmVyYXRlIHRoZSB1cmwgd2l0aCB0aGUgZ2VuZXJhdGVVcmwgZnVuY3Rpb25cbiAgICAgIGNvbnN0IG5ld1VybCA9IGdlbmVyYXRlVXJsKGNhdGVnb3J5Rm9ybSk7XG5cbiAgICAgIC8qKndlIHNlbmQgdGhlIGZldGNoIC5nZXQgcmVxdWVzdCB3aXRoIGF4aW9zIGF0IGh0dHBzOi8vb3BlbmxpYnJhcnkub3JnIHZpYSB0aGUgZmV0Y2hBdXRob3JzIGZ1bmN0aW9uICovXG4gICAgICBmZXRjaEF1dGhvcnMoXG4gICAgICAgIG5ld1VybCxcbiAgICAgICAgY29udGFpbmVyUmVzdWx0LFxuICAgICAgICBjb250YWluZXJDb3ZlckJvb2ssXG4gICAgICAgIGNvbGxlY3RlZERhdGFcbiAgICAgICkudGhlbigocmVzcG9uc2UpID0+IHt9KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lID09PSBcIkxJXCIpIHtcbiAgICAgIC8vdGhlIHVzZXIgY2xpY2tzIG9uIGEgTEkgY29udGFpbmluZyB0aGUgdGl0bGUgb2YgdGhlIGJvb2sgYW5kIHRoZSBhdXRob3JcblxuICAgICAgLyoqdGhlIHZhcmlhYmxlIHZhbHVlTGkgdGFrZXMgdGhlIHZhbHVlIGNvbnRhaW5pbmcgaW4gdGhlIGNsaWNrZWQgTEkgZWxlbWVudCAqL1xuICAgICAgbGV0IHZhbHVlTGkgPSBldmVudC50YXJnZXQudGV4dENvbnRlbnQ7XG5cbiAgICAgIC8qKldlIGV4dHJhY3QgdGhlIGVudGlyZSBzdHJpbmcgYmVmb3JlIHRoZSBcIi1cIiBjaGFyYWN0ZXIgdG8gaGF2ZSBvbmx5IHRoZSB0aXRsZSBvZiB0aGUgYm9vayB3aXRob3V0IHRoZSBhdXRob3IsIHVzaW5nIHRoZSBzdHJpbmdFeHRyYWN0b3IgZnVuY3Rpb24gKi9cbiAgICAgIGNvbnN0IGV4dHJhY3RlZFRpdGxlID0gc3RyaW5nRXh0cmFjdG9yKHZhbHVlTGksIFwiIC0gXCIpO1xuICAgICAgY29uc29sZS5sb2coZXh0cmFjdGVkVGl0bGUpOyAvL2ZvciBkZWJ1Z2dpbmdcblxuICAgICAgLyoqV2UgY29tcGFyZSB0aGUgc3RyaW5nIGV4dHJhY3RlZCBpbiB0aGUgZXh0cmFjdCBUaXRsZSBjb25zdGFudCB3aXRoIHRoZSBEYXRhIGNvbGxlY3Rpb24gYXJyYXkgdG8gZmluZCBhIHJlZmVyZW5jZSB3aXRoIHRoZSB0aXRsZSBzZWxlY3RlZCBieSB0aGUgdXNlci4gKi9cbiAgICAgIGNvbnN0IGZvdW5kQm9vayA9IGNvbGxlY3RlZERhdGEuZmluZCgoZWxlbWVudCkgPT5cbiAgICAgICAgZWxlbWVudC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGV4dHJhY3RlZFRpdGxlLnRvTG93ZXJDYXNlKCkpXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coZm91bmRCb29rKTsgLy9mb3IgZGVidWdnaW5nXG5cbiAgICAgIC8qKmZyb20gdGhlIGNvcnJlc3BvbmRlbmNlIGZvdW5kLCB0aGUgaWRlbnRpZmljYXRpb24ga2V5IG9mIHRoZSBib29rIGFuZCB0aGUgbnVtYmVyIGlkZW50aWZpZWQgZm9yIHRoZSBib29rIGNvdmVyIGFyZSByZXR1cm5lZCAqL1xuICAgICAgY29uc3QgeyBrZXlCb29rLCBudW1Db3ZlciB9ID0gZGV0YWlsc1VybERlc2NyaXB0aW9uKGZvdW5kQm9vayk7XG5cbiAgICAgIC8qKnRoZSBib29rIGtleSBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdXJsIGFuZCBzZW5kIGEgbmV3IGZldGNoIHJlcXVlc3QgZm9yIHRoZSBkZXRhaWxzIG9mIHRoZSBib29rIHNlbGVjdGVkIGJ5IHRoZSB1c2VyICovXG4gICAgICBsZXQgbmV3VXJsRGV0YWlscyA9IG5ldyBVUkwoXG4gICAgICAgIGAke2tleUJvb2t9Lmpzb24/ZGV0YWlscz10cnVlYCxcbiAgICAgICAgXCJodHRwczovL29wZW5saWJyYXJ5Lm9yZy9cIlxuICAgICAgKTtcbiAgICAgIC8vIE1ha2UgYSByZXF1ZXN0IHRvIHRoZSBBUEkgZm9yIHRoZSBib29rJ3MgZGVzY3JpcHRpb25cbiAgICAgIGZldGNoQm9va0RldGFpbHMoXG4gICAgICAgIG5ld1VybERldGFpbHMsXG4gICAgICAgIHZhbHVlTGksXG4gICAgICAgIG51bUNvdmVyLFxuICAgICAgICBjb250YWluZXJSZXN1bHQsXG4gICAgICAgIGNvbnRhaW5lckNvdmVyQm9va1xuICAgICAgKVxuICAgICAgICAvKipJZiB0aGUgcmVxdWVzdCBpcyBzdWNjZXNzZnVsLCB0aGUgcmVzcG9uc2UgaXMgaGFuZGxlZCBpbiBmZXRjaEJvb2tEZXRhaWxzIGFuZCB0aGUgZGVzY3JpcHRpb24gd2l0aCB0aGUgcmVzcGVjdGl2ZSBib29rIGNvdmVyIGlzIGRpc3BsYXllZCAqL1xuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHt9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGJvb2sgZGV0YWlsczpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqd2l0aCB0aGUgZ29iYWNrIGZ1bmN0aW9uIGNvbWJpbmVkIHdpdGggdGhlIGNyZWF0aW9uIG9mIGEgZHluYW1pYyBidXR0b24gdGhhdCBhcHBlYXJzIG9ubHkgYWZ0ZXIgdmlld2luZyB0aGUgYm9vayBkZXNjcmlwdGlvbiwgd2UgY2FuIGdvIGJhY2sgdG8gdGhlIHRpdGxlcy4gKi9cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJnb0JhY2tcIikge1xuICAgICAgYnV0dG9uR29CYWNrLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGdvQmFjayhjb250YWluZXJSZXN1bHQsIGNvbnRhaW5lckNvdmVyQm9vayk7XG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJzdHJpbmdFeHRyYWN0b3IiLCJzdHIiLCJjaGFyIiwiaW5kZXgiLCJpbmRleE9mIiwic2xpY2UiLCJ0cmltIiwiZ29CYWNrIiwiY29udGFpbmVyUmVzdWx0IiwiY29udGFpbmVyQ292ZXJCb29rIiwiaW5uZXJIVE1MIiwic3BhY2VSZW1vdmVyIiwicmVwbGFjZSIsImdlbmVyYXRlVXJsIiwiY2F0ZWdvcnlGb3JtIiwidmFsdWVJbnB1dCIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwibG9nIiwiYWxlcnQiLCJFcnJvciIsImluY2x1ZGVzIiwiVVJMIiwiY29uY2F0IiwiYnV0dG9uR29CYWNrIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlRGVzY3JpcHRpb24iLCJyZXNwRGV0YWlscyIsInZhbHVlTGkiLCJzdHlsZSIsImRpc3BsYXkiLCJkZXNjcmlwdGlvbiIsIl90eXBlb2YiLCJleHRyYWN0ZWREZXRhaWxzIiwiYXhpb3MiLCJmZXRjaEJvb2tEZXRhaWxzIiwibmV3VXJsRGV0YWlscyIsIm51bUNvdmVyIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwic3RhdHVzIiwiZGF0YSIsInNldFRpbWVvdXQiLCJfIiwiZmV0Y2hBdXRob3JzIiwibmV3VXJsIiwiY29sbGVjdGVkRGF0YSIsInJlc3AiLCJhdXRob3JzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJvYmpBdXRob3JzIiwib2JqVGl0bGUiLCJvYmpLZXkiLCJvYmpJZENvdmVyIiwicHVzaCIsInRpdGxlIiwia2V5IiwiY292ZXJJZCIsImVycm9yIiwibWVzc2FnZSIsImRldGFpbHNVcmxEZXNjcmlwdGlvbiIsImZvdW5kQm9vayIsImtleUJvb2siLCJsb2dvSW1nIiwibG9nb0ZuIiwibG9nb0RvbUltYWdlIiwiSW1hZ2UiLCJzcmMiLCJjbGFzc05hbWUiLCJpY29uSW1nIiwiaWNvbkZuIiwiaWNvbkRvbUltYWdlIiwiY29udGFpbmVyRXZlbnQiLCJjb250YWluZXJMb2dvIiwiYXBwZW5kQ2hpbGQiLCJjb250YWluZXJJY29uIiwibGlua015U2l0ZSIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwidGFyZ2V0Iiwid2luZG93IiwiaXNFdmVudExpc3RlbmVyQXR0YWNoZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YWdOYW1lIiwicHJldmVudERlZmF1bHQiLCJ0ZXh0Q29udGVudCIsImV4dHJhY3RlZFRpdGxlIiwiZmluZCIsIl9kZXRhaWxzVXJsRGVzY3JpcHRpbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///106\n')},314:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = __webpack_require__.p + "imgs/icon-footer-lr-web-site.69ca14e5.png";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE0LmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixxQkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2NvbXBvbmVudHMvbG9nby9pY29uLWZvb3Rlci1sci13ZWItc2l0ZS5wbmc/MTdkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWdzL2ljb24tZm9vdGVyLWxyLXdlYi1zaXRlLjY5Y2ExNGU1LnBuZ1wiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///314\n')},150:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = __webpack_require__.p + "imgs/logo-book-finder-dark.81441a34.png";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUwLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixxQkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LWJvb2stZmluZGVyLy4vc3JjL2NvbXBvbmVudHMvbG9nby9sb2dvLWJvb2stZmluZGVyLWRhcmsucG5nPzhmNjEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1ncy9sb2dvLWJvb2stZmluZGVyLWRhcmsuODE0NDFhMzQucG5nXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///150\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var e=__webpack_module_cache__[Q];if(void 0!==e)return e.exports;var B=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(B.exports,B,B.exports,__webpack_require__),B.loaded=!0,B.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,e,B,n)=>{if(!e){var F=1/0;for(i=0;i<deferred.length;i++){for(var[e,B,n]=deferred[i],U=!0,c=0;c<e.length;c++)(!1&n||F>=n)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](e[c])))?e.splice(c--,1):(U=!1,n<F&&(F=n));if(U){deferred.splice(i--,1);var t=B();void 0!==t&&(Q=t)}}return Q}n=n||0;for(var i=deferred.length;i>0&&deferred[i-1][2]>n;i--)deferred[i]=deferred[i-1];deferred[i]=[e,B,n]},__webpack_require__.n=Q=>{var e=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(Q,e)=>{for(var B in e)__webpack_require__.o(e,B)&&!__webpack_require__.o(Q,B)&&Object.defineProperty(Q,B,{enumerable:!0,get:e[B]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,e)=>Object.prototype.hasOwnProperty.call(Q,e),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),(()=>{var Q;__webpack_require__.g.importScripts&&(Q=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!Q&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(Q=e.currentScript.src),!Q)){var B=e.getElementsByTagName("script");if(B.length)for(var n=B.length-1;n>-1&&(!Q||!/^http(s?):/.test(Q));)Q=B[n--].src}if(!Q)throw new Error("Automatic publicPath is not supported in this browser");Q=Q.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=Q})(),(()=>{var Q={57:0};__webpack_require__.O.j=e=>0===Q[e];var e=(e,B)=>{var n,F,[U,c,t]=B,i=0;if(U.some((e=>0!==Q[e]))){for(n in c)__webpack_require__.o(c,n)&&(__webpack_require__.m[n]=c[n]);if(t)var l=t(__webpack_require__)}for(e&&e(B);i<U.length;i++)F=U[i],__webpack_require__.o(Q,F)&&Q[F]&&Q[F][0](),Q[F]=0;return __webpack_require__.O(l)},B=self.webpackChunkproject_book_finder=self.webpackChunkproject_book_finder||[];B.forEach(e.bind(null,0)),B.push=e.bind(null,B.push.bind(B))})();var __webpack_exports__=__webpack_require__.O(void 0,[11,420,907,62,543],(()=>__webpack_require__(106)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();